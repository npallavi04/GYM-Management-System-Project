{"ast":null,"code":"var _jsxFileName = \"F:\\\\GYM Management System Project\\\\frontend\\\\src\\\\components\\\\Payments.js\",\n  _s = $RefreshSig$();\nimport axios from \"axios\";\nimport { useEffect, useState } from \"react\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst API = process.env.REACT_APP_API_URL || \"http://127.0.0.1:8000\";\nfunction Payments({\n  username,\n  role\n}) {\n  _s();\n  const [amount, setAmount] = useState(\"\");\n  const [date, setDate] = useState(\"\");\n  const [payments, setPayments] = useState([]);\n  const [payUsername, setPayUsername] = useState(username); // Default to current user\n\n  // Fetch payments\n  const fetchPayments = async () => {\n    try {\n      let url = `${API}/payments`;\n      if (role === \"member\") {\n        // Members see only their payments\n        url += `?username=${username}`;\n      }\n      const res = await axios.get(url);\n      setPayments(res.data);\n    } catch (err) {\n      console.error(\"Failed to fetch payments\", err);\n    }\n  };\n  useEffect(() => {\n    fetchPayments();\n  }, []);\n\n  // Make a payment\n  const makePayment = async () => {\n    if (!amount || !date || !payUsername) {\n      alert(\"Please fill all fields\");\n      return;\n    }\n    try {\n      await axios.post(`${API}/payments`, {\n        username: payUsername,\n        amount: parseFloat(amount),\n        date\n      });\n      alert(\"Payment successful\");\n      setAmount(\"\");\n      setDate(\"\");\n      fetchPayments(); // Refresh payment list\n    } catch (err) {\n      console.error(\"Failed to make payment\", err);\n      alert(\"Payment failed\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Payments\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"payment-form\",\n      children: [role === \"admin\" && /*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: \"Username\",\n        value: payUsername,\n        onChange: e => setPayUsername(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: \"Amount\",\n        type: \"number\",\n        value: amount,\n        onChange: e => setAmount(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"date\",\n        value: date,\n        onChange: e => setDate(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: makePayment,\n        children: \"Pay\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Payment Records\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: payments.map(p => /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [p.username, \" - \\u20B9\", p.amount, \" - \", p.date]\n      }, p.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n_s(Payments, \"dPQirVTgbfWNNOSk9QNlgvBoN6k=\");\n_c = Payments;\nexport default Payments;\nvar _c;\n$RefreshReg$(_c, \"Payments\");","map":{"version":3,"names":["axios","useEffect","useState","jsxDEV","_jsxDEV","Fragment","_Fragment","API","process","env","REACT_APP_API_URL","Payments","username","role","_s","amount","setAmount","date","setDate","payments","setPayments","payUsername","setPayUsername","fetchPayments","url","res","get","data","err","console","error","makePayment","alert","post","parseFloat","children","fileName","_jsxFileName","lineNumber","columnNumber","className","placeholder","value","onChange","e","target","type","onClick","map","p","id","_c","$RefreshReg$"],"sources":["F:/GYM Management System Project/frontend/src/components/Payments.js"],"sourcesContent":["import axios from \"axios\";\r\nimport { useEffect, useState } from \"react\";\r\n\r\nconst API = process.env.REACT_APP_API_URL || \"http://127.0.0.1:8000\";\r\n\r\nfunction Payments({ username, role }) {\r\n  const [amount, setAmount] = useState(\"\");\r\n  const [date, setDate] = useState(\"\");\r\n  const [payments, setPayments] = useState([]);\r\n  const [payUsername, setPayUsername] = useState(username); // Default to current user\r\n\r\n  // Fetch payments\r\n  const fetchPayments = async () => {\r\n    try {\r\n      let url = `${API}/payments`;\r\n      if (role === \"member\") {\r\n        // Members see only their payments\r\n        url += `?username=${username}`;\r\n      }\r\n      const res = await axios.get(url);\r\n      setPayments(res.data);\r\n    } catch (err) {\r\n      console.error(\"Failed to fetch payments\", err);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchPayments();\r\n  }, []);\r\n\r\n  // Make a payment\r\n  const makePayment = async () => {\r\n    if (!amount || !date || !payUsername) {\r\n      alert(\"Please fill all fields\");\r\n      return;\r\n    }\r\n    try {\r\n      await axios.post(`${API}/payments`, {\r\n        username: payUsername,\r\n        amount: parseFloat(amount),\r\n        date\r\n      });\r\n      alert(\"Payment successful\");\r\n      setAmount(\"\");\r\n      setDate(\"\");\r\n      fetchPayments(); // Refresh payment list\r\n    } catch (err) {\r\n      console.error(\"Failed to make payment\", err);\r\n      alert(\"Payment failed\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <h2>Payments</h2>\r\n\r\n      <div className=\"payment-form\">\r\n        {role === \"admin\" && (\r\n          <input\r\n            placeholder=\"Username\"\r\n            value={payUsername}\r\n            onChange={(e) => setPayUsername(e.target.value)}\r\n          />\r\n        )}\r\n\r\n        <input\r\n          placeholder=\"Amount\"\r\n          type=\"number\"\r\n          value={amount}\r\n          onChange={(e) => setAmount(e.target.value)}\r\n        />\r\n        <input\r\n          type=\"date\"\r\n          value={date}\r\n          onChange={(e) => setDate(e.target.value)}\r\n        />\r\n        <button onClick={makePayment}>Pay</button>\r\n      </div>\r\n\r\n      <h3>Payment Records</h3>\r\n      <ul>\r\n        {payments.map((p) => (\r\n          <li key={p.id}>\r\n            {p.username} - â‚¹{p.amount} - {p.date}\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Payments;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}